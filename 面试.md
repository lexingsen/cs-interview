面试

**12.20荣耀**



1.udp头部长度

2.tcp如何保证可靠的

3.为什么需要四次挥手

4.poll select epoll

5.变参函数的实现？

有了数据链路层，为什么还要有ip层

线程和进程？

有了多线程，为什么还要有IO复用？

数据在整个tcp/ip协议栈从客户端到服务器端数据包是如何传输的？

stl容器?



#### 12.20

C++引用？

dfs项目介绍？

继承和多态？

智能指针？shared_ptr weak_ptr?

设计模式，我说只用到过单例模式和迭代器模式？

stl讲解一下？

用到stl的那些容器？





**12.21腾讯云**

排序算法的特点？

bst, avl?

继承和多态？

docker 的namesapce 和 cgroup的区别？

智能指针？shared_ptr weak_ptr?

工厂模式和抽象工厂模式？

事务的隔离级别？解决了什么问题？

b-树 b+树 区别？

一致性hash算法的实现？

**12.22  星闪科技**



**12.22  海康威视**



强智能指针交叉引用的问题？

定义用强，引用是弱

多线程访问共享对象？ 强弱搭配，干活不累

自定义删除器   函数对象，function，lambda



shared_ptr 

只想资源的指针  resourceptr

指向引用计数对象的指针  对象里包括两个成员，引用计数和weak的资源观察者的计数，都是基于cas的

拷贝构造， 赋值运算符重载函数只对引用计数做增减

构造函数会重新分配引用计数对象，各是各的

enable_shared_of_this

shared_of_this





迭代器失效问题

1、不同容器的迭代器是不能比较的

2、容器元素进行增加、删除，原来的迭代器就全部失效了

对迭代器进行实时更新





time_wait 时间为什么是2msl

time_wait的作用

- 防止收到旧的数据包，发生数据混乱
- 帮助被关闭方正确关闭连接

time_wait的危害

- 占用内存
- 占用端口